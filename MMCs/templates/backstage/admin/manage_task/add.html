{% extends 'backstage/admin/manage_task/base.html' %}
{% from 'bootstrap/pagination.html' import render_pagination %}

{% block task_content %}
{% if is_start() %}
<div class="table-responsive">
    <table class="table table-striped table-hover table-sm">
        <thead>
            <tr>
                <th class="text-center">#</th>
                <th class="text-center">{{ _('Team number') }}</th>
                <th class="text-center">{{ _('Problem') }}</th>
                <th class="text-center">{{ _('UUID') }}</th>
                <th class="text-center">{{ _('Actions') }}</th>
            </tr>
        </thead>
        {% for solution in pagination.items %}
        <tr>
            <td class="text-center">{{ pagination.total - (config['SOLUTION_PER_PAGE']*(page-1) + loop.index) + 1 }}</td>
            <td class="text-center">
                <span class="badge badge-pill badge-info">
                    {{ solution.team_number }}
                </span>
            </td>
            <td class="text-center">
                <span class="badge badge-pill badge-primary">
                    {{ solution.problem }}
                </span>
            </td>
            <td class="text-center">{{ solution.uuid }}</td>
            <td class="text-center">
                <form role="form" action="{{ url_for('admin.user_solution_add', user_id=user_id, solution_id=solution.id) }}"
                    method="post">
                    <input type="hidden" id="csrf_token" name="csrf_token" value="{{ csrf_token() }}" />
                    <button class="btn btn-info btn-sm">
                        <span class="oi oi-plus"></span> {{ _("Add") }}
                    </button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
<div class="page-footer">
    {{ render_pagination(pagination) }}
</div>
{% else %}
{% include "backstage/tips/no_start.html" %}
{% endif %}
{% endblock %}
