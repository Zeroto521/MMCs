{% extends 'backstage/root/base.html' %}
{% from 'bootstrap/form.html' import render_form %}
{% from 'bootstrap/pagination.html' import render_pagination %}

{% block title %}System{% endblock %}

{% block setting_content %}
    <div class="card w-100 bg-light">
        <h3 class="card-header">
            Add new file type
        </h3>
        <div class="card-body">
                {{ render_form(form) }}
        </div>
    </div>

    <div class="card w-100 bg-light">
        <h3 class="card-header">
            File type
            <small class="text-muted">{{ pagination.total }}</small>
        </h3>
        {% if file_types %}
            <div class="card-body">
                <table class="table table-striped table-hover table-sm">
                    <thead>
                        <tr class="text-center">
                            <th>#</th>
                            <th>File type</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    {% for file_type in file_types %}
                    <tr class="text-center">
                        <td>{{ pagination.total - (per_page*(page-1) + loop.index) + 1 }}</td>
                        <td>{{ file_type.file_type }}</td>
                        <td>
                            <form class="inline" action="{{ url_for('root.delete_file_type', file_type_id=file_type.id) }}" method="post">
                                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                                <input type="submit" onclick="return confirm('Are you sure?');" class="btn btn-danger btn-sm" value="Delete">
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </table>
                <div class="page-footer">{{ render_pagination(pagination) }}</div>
            </div>
        {% else %}
            <div class="tip">
                <span class="oi oi-ban"></span>
                No File type
            </div>
        {% endif %}
{% endblock %}
